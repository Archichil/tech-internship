# Стажировки для Android-разработчиков в Авито: на что мы смотрим при проверке работ
Мы заинтересованы в том, чтобы вы хорошо выполнили свои задания при отборе на программы стажировок. 
Рассказываем, на что наши Android-разработчики обращают внимание при проверке работ, и даем советы по улучшению тестовых.
## Отсутствие документации
 Код без комментариев или документации трудно понять другим разработчикам. Пишите комментарии к сложным участкам и предоставляйте документацию по использованию.
## Работа с Git
В Авито мы используем подход фича-веток, каждая из которых соответствует задаче/багу.
Они позволяют изолировать изменения от основной рабочей ветки (обычно main или master). Это гарантирует, что основной код всегда остается в стабильном состоянии и можно параллельно работать над разными функциями, исправлениями или экспериментами.   
 
Перед слиянием ветки с основной (или другой целевой) можно создать Pull Request. PR предоставляет возможность провести код-ревью и прогнать ci/cd. Это снижает вероятность внесения ошибок в основной код.
 
Ветки позволяют экспериментировать с новыми идеями, не рискуя повредить основной код. Если эксперимент оказался неудачным, ветку можно удалить без последствий.
### Оформление README
Подробное оформление README вместе с примерами (например, скрины приложения) упрощает погружение в проект.
### Отсутсвие отработки ошибок
В случае появления исключительных ситуаций и отсутствия механизма обработки ошибок приложение может упасть. Экраны при этом остаются пустыми, а пользователь не понимает, что сейчас происходит в приложении.
### Жестко закодированный текст
Прямая передача текстовых данных (например, описания фильма) в коде может затруднять локализацию и обновление текстовых ресурсов.
### Использование нейросетей
ChatGPT может ускорять работу опытных разработчиков. Но зачастую решения от нейросети хуже, чем от реальных людей.
Злоупотребление AI лишает работу индивидуальности и мешает оценить ваш вклад в тестовое — проверка затрудняется или становится невозможной.
### Осмысленные названия пакетов
Лучше не использовать дефолтный package name, который начинается с com.example, а создавать более осмысленные названия для package.
## Навигация
Для навигации по приложению рекомендуем использовать androidx.navigation.
- Navigation использует файл (nav_graph.xml), где маршруты, фрагменты и переходы (actions) задаются декларативно.Это делает логику навигации централизованной, а код — проще для поддержки и изменений.
- Navigation предоставляет встроенные механизмы для работы с deeplink. Можно легко перенаправить пользователя на конкретный экран через URI или интенты. Также удобно разделять графы навигации на модули, особенно в многомодульных проектах. Индивидуальный nav_graph может быть в каждом модуле, оставаясь независимым от других.
## Многомодульность
Сейчас многомодульная архитектура — стандартный подход в Android-разработке, который позволяет создавать масштабируемые, легко-поддерживаемые и оптимизированные приложения. В многомодульных проектах Gradle собирает только те модули, которые были изменены. Это уменьшает время сборки, особенно для больших проектов.
Еще такая архитектура упрощает разделение зон ответственности между командами. Разработчики могут работать с конкретными модулями обособленно. Если будут исправления, они не повлияют на другие участки кода.
*Вот пример разделения на модули:*
![](https://github.com/user-attachments/assets/6abd707f-f2e6-47c4-ae05-1c0adb3b0976)
Зачастую помимо feature- и data-модулей, есть еще common-модули.
Общие модули, также известные как базовые (core), содержат код, который часто используется другими модулями. Они уменьшают избыточность и не представляют какой-либо конкретный уровень в архитектуре приложения. Ниже приведены примеры core-модулей: мапперы, навигация, аналитика.
Также важно, чтобы feature-модули не зависели друг от друга.    
Модули редко существуют полностью отдельно и часто полагаются на другие и взаимодействуют с ними. Поддерживайте низкую связанность, даже когда модули работают вместе и часто обмениваются информацией. Иногда прямая связь нежелательна из-за ограничений архитектуры или из-за циклических зависимостей.
![](https://github.com/user-attachments/assets/b06433ca-1383-488b-bfc2-6d595df158a8)
### Сводите к минимуму публичный API
Публичный интерфейс модуля должен быть минимальным и отображать только самое необходимое. Детали реализации не должны быть доступны извне. Используйте модификаторы private или internal для уменьшения области видимости, чтобы сделать методы или свойства приватными. 
При объявлении зависимостей в вашем модуле отдавайте предпочтение подключению через implementation, а не api, так как он предоставляет транзитивные зависимости потребителям вашего модуля. А использование implementation может сократить время сборки, уменьшая количество модулей, которые необходимо пересобрать после изменений.
### Следуйте принципам Clean Architecture
Использование принципов Clean Architecture делает код простым для понимания и сопровождения. Они также помогают избежать проблем с зависимостями и разделить приложение на логические блоки.
## Архитектура
При решении тестового задания многие используют архитектуру MVVM, а здесь мы покажем другой подход: MVI. Мы в Авито отдаем преимущество именно этой архитектуре, хотя раньше было популярно использовать подход MVC, MVP, MVVM.

**Особенности работы с MVI:**
- Единое управление состоянием: у каждого экрана есть одно состояние, что упрощает отладку.
- Тестируемость: можно легко писать юнит-тесты для ViewModel, Reducer и State.
- Прогнозируемость: состояние изменяется только через Intent, что упрощает отслеживание изменений.

Существуют различные фреймворки для приготовления MVI-архитектуры. Но общий принцип работы таков:
![](https://github.com/user-attachments/assets/406ef198-3a6b-4451-b7ae-0476c14ae3e7)
## Тестирование
**Покрытие кода Android тестами имеет ряд преимуществ:**
1. Уверенность в качестве приложения: помогает разработчикам проверить, что приложение работает так, как ожидается, и может выдерживать внутри него изменения.
2. Уменьшение времени разработки: помогает обнаружить проблемы раньше, чем они будут обнаружены вручную на более поздних стадиях разработки.
3. Улучшение стабильности приложения: помогает обнаружить баги и проблемы раньше, чем они будут обнаружены пользователями.
В Авито мы стараемся использовать комплексный подход к тестированию, покрывая всю пирамиду.
